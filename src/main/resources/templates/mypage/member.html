<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layoutJs">
<head>
  <meta th:remove="all" charset="UTF-8">
  <title>参加者登録</title>
</head>
<body>
<div layout:fragment="content">
  <div class="main"
       th:with="isNew=(${#strings.isEmpty(member.memberNo)})">
    <h2>参加者情報</h2>

    <form method="POST" id="memberForm" role="form"
          th:action="@{/mypage/member/new}"
          th:novalidate="${@environment.acceptsProfiles('development')}">
      <fieldset th:object="${member}">
        <legend>入会者情報</legend>

        <div th:if="!(${isNew})" class="form-group required">
          <label class="col-sm-2 control-label">会員番号</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="memberNo"
                   th:field="*{memberNo}" readonly>
          </div>
        </div>

        <!-- ===================================================================================== -->
        <!--   Names                                                                               -->
        <!-- ===================================================================================== -->
        <div class="form-group required">
          <label class="col-sm-2 control-label">名前（漢字）</label>

          <div class="col-sm-10">
            <div class="form-group row inline-form-group">
              <label for="familyName" class="col-sm-1 control-label">
                <small>姓</small>
              </label>

              <div class="col-sm-3">
                <input type="text" class="form-control" name="familyName"
                       id="familyName" placeholder=""
                       th:classappend="${#fields.hasErrors('familyName')}? 'has-error'"
                       th:field="*{familyName}" th:readonly="!(${isNew})"> <span
                  th:if="${#fields.hasErrors('familyName')}"
                  th:errors="*{familyName}" class="text-danger">姓を入力してください</span>
              </div>
              <label for="givenName" class="col-sm-1 control-label">
                <small>名</small>
              </label>

              <div class="col-sm-3">
                <input type="text" class="form-control" name="givenName"
                       id="givenName" placeholder=""
                       th:classappend="${#fields.hasErrors('givenName')}? 'has-error'"
                       th:field="*{givenName}" th:readonly="!(${isNew})" required>
									<span th:if="${#fields.hasErrors('givenName')}"
                        th:errors="*{givenName}" class="text-danger">名を入力してください</span>
              </div>
            </div>
          </div>


        </div>
        <div class="form-group required">
          <label class="col-sm-2 control-label">名前（カタカナ）</label>

          <div class="col-sm-10">
            <div class="form-group row inline-form-group">
              <label for="familyNameKana" class="col-sm-1 control-label">
                <small>セイ</small>
              </label>

              <div class="col-sm-3">
                <input type="text" class="form-control" id="familyNameKana"
                       placeholder="" th:field="*{familyNameKana}"
                       th:readonly="!(${isNew})" required> <span
                  th:if="${#fields.hasErrors('familyNameKana')}"
                  class="text-danger" th:errors="*{familyNameKana}">Error</span>
              </div>
              <label for="givenNameKana" class="col-sm-1 control-label">
                <small>メイ</small>
              </label>

              <div class="col-sm-3">
                <input type="text" class="form-control" id="givenNameKana"
                       placeholder="" th:field="*{givenNameKana}"
                       th:readonly="!(${isNew})" required> <span
                  th:if="${#fields.hasErrors('givenNameKana')}"
                  class="text-danger" th:errors="*{givenNameKana}">Error</span>

              </div>
            </div>
          </div>
        </div>

        <div class="form-group required">
          <label class="col-sm-2 control-label">学年</label>
          <div class="col-sm-10 radio">
            <label
                th:each="grade: ${T(machinosoccerweb.members.models.Grade).values()}"
                class="radio-inline" th:inline="text"> <input
                type="radio" name="grade" th:field="*{grade}"
                th:value="${grade}" required>[[${grade.label}]]
            </label> <span th:if="${#fields.hasErrors('grade')}" class="text-danger"
                           th:errors="*{grade}">Error</span>
          </div>
        </div>
        <div class="form-group required">
          <label class="col-sm-2 control-label">性別</label>
          <div class="col-sm-10 radio">
            <label
                th:each="gender: ${T(machinosoccerweb.members.models.Gender).values()}"
                class="radio-inline" th:inline="text"> <input
                type="radio" name="gender" th:field="*{gender}"
                th:value="${gender}" required/>[[${gender.label}]]
            </label> <span th:if="${#fields.hasErrors('gender')}" class="text-danger"
                           th:errors="*{gender}">Error</span>

          </div>
        </div>

        <div class="form-group" th:if="${isNew}">
          <label for="joinedAt" class="col-sm-2 control-label">初回参加年月</label>
          <div class="col-sm-10">
							<span class="help-block">以前参加されたことのある方は、初めて参加された時期を入力してください。今回初めての方は入力不要です。
							</span> <input min="2013-05" id="joinedAt" type="month" name="joinedAt"
                             th:max="${#dates.format(#dates.createNow(), 'yyyy-MM')}"
                             th:value="${#dates.format(#dates.createNow(), 'yyyy-MM')}"
                             value="2015-08"/>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-3" th:if="${isNew}">
            <input type="submit" id="submit"
                   class="btn btn-success btn-block" value="登録"/>
          </div>
          <div class="col-sm-3" th:unless="${isNew}">
            <input type="submit" id="submitUpdates" class="btn btn-success"
                   value="更新する"/>
          </div>
          <div class="col-sm-3">
            <a type="button" class="btn btn-default"
               th:href="@{|/mypage|}">保存せず戻る </a>
          </div>

						<span id="helpBlock" class="help-block">プライバシーポリシーの詳細についてはこちらの<a
                href="http://goo.gl/6Gbiyr" target="_blank">リンク</a>をご確認ください
						</span>
        </div>
      </fieldset>
    </form>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script>

  </script>
</div>
</body>
</html>